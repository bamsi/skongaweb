(self.webpackChunkangular=self.webpackChunkangular||[]).push([[574],{71574:function(e,t,i){"use strict";i.r(t),i.d(t,{TeacherModule:function(){return j}});var r=i(61511),o=i(29063),n=i(16073),s=i(57629),a=i(65042),l=i(92290),p=i(31572),u=i(60898),c=i(51146),d=i(68751),g=i(46726),Z=i(63240),m=i(20322),h=i(69892),b=i(13757),f=i(74568);function T(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",42),p.TgZ(1,"h5",43),p._uU(2,"Registered Teacher"),p.qZA(),p.TgZ(3,"span",44),p._UZ(4,"i",45),p.TgZ(5,"input",46),p.NdJ("input",function(t){return p.CHM(e),p.oxw(),p.MAs(7).filterGlobal(t.target.value,"contains")}),p.qZA(),p.qZA(),p.qZA()}}function A(e,t){1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"th",47),p._uU(2,"SNo"),p.qZA(),p.TgZ(3,"th",48),p._uU(4,"Name "),p._UZ(5,"p-sortIcon",49),p.qZA(),p.TgZ(6,"th",50),p._uU(7,"Gender "),p._UZ(8,"p-sortIcon",51),p.qZA(),p.TgZ(9,"th",52),p._uU(10,"Phone "),p._UZ(11,"p-sortIcon",51),p.qZA(),p.TgZ(12,"th",53),p._uU(13,"Email "),p._UZ(14,"p-sortIcon",51),p.qZA(),p.TgZ(15,"th",54),p._uU(16,"Is Active "),p._UZ(17,"p-sortIcon",55),p.qZA(),p.TgZ(18,"th"),p._uU(19,"Action"),p.qZA(),p.qZA())}function _(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.TgZ(7,"td"),p._uU(8),p.qZA(),p.TgZ(9,"td"),p._uU(10),p.qZA(),p.TgZ(11,"td"),p._UZ(12,"i",56),p.qZA(),p.TgZ(13,"td"),p.TgZ(14,"i",57),p.NdJ("click",function(){const t=p.CHM(e).$implicit;return p.oxw().updateTeacher(t)}),p.qZA(),p._uU(15," \xa0 "),p.TgZ(16,"i",58),p.NdJ("click",function(){const t=p.CHM(e).$implicit;return p.oxw().deleteTeacher(t)}),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=t.rowIndex,i=t.$implicit;p.xp6(2),p.Oqu(e+1),p.xp6(2),p.Oqu(i.first_name+" "+i.middle_name+" "+i.last_name),p.xp6(2),p.Oqu(i.gender),p.xp6(2),p.Oqu(i.phone),p.xp6(2),p.Oqu(i.email),p.xp6(2),p.Q6J("ngClass",i.active?"pi pi-check-circle":"pi pi-times-circle")}}function q(e,t){if(1&e&&(p.TgZ(0,"div",42),p._uU(1),p.qZA()),2&e){const e=p.oxw();p.xp6(1),p.hij(" In total there are ",null!=e.register_teacher&&e.register_teacher.teacher?e.register_teacher.teacher.length:0," teacher. ")}}function v(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div"),p.TgZ(1,"div",59),p.TgZ(2,"div",14),p.TgZ(3,"span",15),p._UZ(4,"p-dropdown",60),p.TgZ(5,"label",61),p._uU(6,"Subject"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(7,"div",14),p.TgZ(8,"span",15),p._UZ(9,"p-dropdown",62),p.TgZ(10,"label",35),p._uU(11,"Class"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(12,"div",39),p.TgZ(13,"button",63),p.NdJ("click",function(){const t=p.CHM(e).index;return p.oxw().removeRound(t)}),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=t.index,i=p.oxw();p.xp6(1),p.Q6J("formGroupName",e),p.xp6(3),p.MGl("name","v",e,""),p.Q6J("autoDisplayFirst",!1)("options",null==i.subjects?null:i.subjects.subject),p.xp6(5),p.MGl("name","v",e,""),p.Q6J("autoDisplayFirst",!1)("options",null==i.grades?null:i.grades.class)}}function U(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"p-button",64),p.NdJ("click",function(){return p.CHM(e),p.oxw().closeDialog()}),p.qZA(),p.TgZ(1,"p-button",65),p.NdJ("click",function(){return p.CHM(e),p.oxw().submitForm()}),p.qZA()}if(2&e){const e=p.oxw();p.xp6(1),p.Q6J("disabled",!e.teacherForm.valid)}}const x=function(){return["first_name","last_name","gender","phone","status"]},C=function(){return{width:"70vw"}},N=function(){return{"960px":"75vw"}},y=[{path:"registration",component:(()=>{class e{constructor(e,t,i,r){this.http=e,this.messageService=t,this.ls=i,this.fb=r,this.display=!1,this.teacherForm=this.fb.group({first_name:["",n.kI.required],middle_name:[""],last_name:["",n.kI.required],gender:["",n.kI.required],address:[""],email:["",n.kI.email],phone:["",[n.kI.minLength(12),n.kI.required]],class_teacher:[!1],teacher_class_id:[""],subjects:this.fb.array([])})}get subjectsFormArr(){return this.teacherForm.get("subjects")}ngOnInit(){var e=this.ls.getItem("APP_USER");this.institution_id=null==e?void 0:e.user.institution_id,this.getRegisteredTeacher().subscribe(e=>{this.register_teacher=e},e=>console.log("oops",e)),this.getSubject().subscribe(e=>{this.subjects=e},e=>console.log("oops",e)),this.getGrade().subscribe(e=>{this.grades=e},e=>console.log("oops",e))}getRegisteredTeacher(){return this.http.get(`${a.N.apiURL}/teacher/`+this.institution_id)}getSubject(){return this.http.get(`${a.N.apiURL}/subject`)}getGrade(){return this.http.get(`${a.N.apiURL}/grade/`+this.institution_id)}showDialog(){this.display=!0}closeDialog(){this.display=!1}submitForm(){var e=this.teacherForm.value;e.institution_id=this.institution_id,this.closeDialog(),this.http.post(`${a.N.apiURL}/register_teacher`,e).subscribe(e=>{var t,i;this.res=e,this.register_teacher={teacher:null===(t=this.res)||void 0===t?void 0:t.teacher},this.messageService.add({key:"success",severity:"success",summary:"Success Message",detail:null===(i=this.res)||void 0===i?void 0:i.message}),this.teacherForm.reset()},e=>this.error="Error occured, please contact administrator")}addRound(){this.subjectsFormArr.push(this.fb.group({subject_id:["",n.kI.required],class_id:["",n.kI.required]}))}removeRound(e){this.subjectsFormArr.removeAt(e)}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(o.eN),p.Y36(l.ez),p.Y36(u.g),p.Y36(n.qu))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-registration"]],features:[p._Bn([l.ez])],decls:70,vars:21,consts:[["position","top-right","key","success"],[1,"p-grid","p-align-center"],[1,"p-col"],["pButton","","type","button","label","Add Teacher","icon","pi pi-plus","iconPos","left",1,"p-button-success",2,"float","right",3,"click"],["submit",""],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","paginator","globalFilterFields","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["header","Register Teacher",3,"visible","breakpoints","baseZIndex","draggable","resizable","visibleChange"],[3,"formGroup"],[1,"p-fluid","p-grid","p-mt-2"],[1,"p-field","p-col-12","p-md-4"],[1,"p-float-label"],["type","text","id","first_name","pInputText","","formControlName","first_name"],["for","First Name"],["type","text","id","middle_name","pInputText","","formControlName","middle_name"],["for","Middle Name"],["type","text","id","last_name","pInputText","","formControlName","last_name"],["for","Last Name"],[1,"d-horizontal"],["name","gender","value","M","inputId","male","label","Male","formControlName","gender"],["name","gender","value","F","inputId","female","label","Female","formControlName","gender"],["type","text","id","address","pInputText","","formControlName","address"],["for","Address"],["type","number","id","phone","pInputText","","formControlName","phone"],["for","Phone"],["type","text","id","email","pInputText","","formControlName","email"],["for","Email"],[1,"form-group","form-check","p-mt-2"],["type","checkbox","formControlName","class_teacher","id","class_teacher",3,"value"],["for","class_teacher"],["inputId","class","formControlName","teacher_class_id","optionLabel","name","optionValue","id",3,"autoDisplayFirst","options"],["for","class"],["formArrayName","subjects"],[4,"ngFor","ngForOf"],[1,"p-col-12","p-md-8"],[1,"p-field","p-col-12","p-md-2"],["pButton","","type","button","icon","pi pi-plus","iconPos","left","label","Add",1,"p-button-lg","p-button-outlined",3,"click"],["pTemplate","footer"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"p-m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search teacher...",3,"input"],[2,"width","3rem"],["pSortableColumn","name"],["field","name"],["pSortableColumn","gender"],["field","gender"],["pSortableColumn","phone"],["pSortableColumn","email"],["pSortableColumn","status"],["field","active"],[3,"ngClass"],[1,"pi","pi-pencil",3,"click"],[1,"pi","pi-trash",3,"click"],[1,"p-fluid","p-grid","p-mt-2",3,"formGroupName"],["inputId","subject","formControlName","subject_id","optionLabel","name","optionValue","id",3,"autoDisplayFirst","options","name"],["for","subject"],["inputId","class","formControlName","class_id","optionLabel","name","optionValue","id",3,"autoDisplayFirst","options","name"],["pButton","","type","button","icon","pi pi-minus","iconPos","left","label","Remove",1,"p-button-lg","p-button-outlined","p-button-help",3,"click"],["icon","pi pi-close","label","Cancel","styleClass","p-button-text",3,"click"],["icon","pi pi-check","label","Save","styleClass","p-button-info",3,"disabled","click"]],template:function(e,t){1&e&&(p._UZ(0,"p-toast",0),p.TgZ(1,"p-card"),p.TgZ(2,"div",1),p.TgZ(3,"div",2),p.TgZ(4,"button",3,4),p.NdJ("click",function(){return t.showDialog()}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(6,"p-table",5,6),p.YNc(8,T,6,0,"ng-template",7),p.YNc(9,A,20,0,"ng-template",8),p.YNc(10,_,17,6,"ng-template",9),p.YNc(11,q,2,1,"ng-template",10),p.qZA(),p.qZA(),p.TgZ(12,"p-dialog",11),p.NdJ("visibleChange",function(e){return t.display=e}),p.TgZ(13,"form",12),p.TgZ(14,"div",13),p.TgZ(15,"div",14),p.TgZ(16,"span",15),p._UZ(17,"input",16),p.TgZ(18,"label",17),p._uU(19,"First Name"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(20,"div",14),p.TgZ(21,"span",15),p._UZ(22,"input",18),p.TgZ(23,"label",19),p._uU(24,"Middle Name"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(25,"div",14),p.TgZ(26,"span",15),p._UZ(27,"input",20),p.TgZ(28,"label",21),p._uU(29,"Last Name"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(30,"div",14),p.TgZ(31,"div"),p.TgZ(32,"div",22),p._uU(33," Gender: "),p.qZA(),p._UZ(34,"p-radioButton",23),p._UZ(35,"p-radioButton",24),p.qZA(),p.qZA(),p.TgZ(36,"div",14),p.TgZ(37,"span",15),p._UZ(38,"input",25),p.TgZ(39,"label",26),p._uU(40,"Address"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(41,"div",14),p.TgZ(42,"span",15),p._UZ(43,"input",27),p.TgZ(44,"label",28),p._uU(45,"Phone (eg. 255717777777)"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(46,"div",14),p.TgZ(47,"span",15),p._UZ(48,"input",29),p.TgZ(49,"label",30),p._uU(50,"Email"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(51,"div",14),p.TgZ(52,"div",31),p._UZ(53,"input",32),p.TgZ(54,"label",33),p._uU(55,"Class teacher?"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(56,"div",14),p.TgZ(57,"span",15),p._UZ(58,"p-dropdown",34),p.TgZ(59,"label",35),p._uU(60,"Select Class"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(61,"h3"),p._uU(62,"Add Subject"),p.qZA(),p.TgZ(63,"div",36),p.YNc(64,v,14,7,"div",37),p.qZA(),p.TgZ(65,"div",13),p._UZ(66,"div",38),p.TgZ(67,"div",39),p.TgZ(68,"button",40),p.NdJ("click",function(){return t.addRound()}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.YNc(69,U,2,1,"ng-template",41),p.qZA()),2&e&&(p.xp6(6),p.Q6J("value",null==t.register_teacher?null:t.register_teacher.teacher)("rows",10)("paginator",!0)("globalFilterFields",p.DdM(18,x))("rowHover",!0)("showCurrentPageReport",!0),p.xp6(6),p.Akn(p.DdM(19,C)),p.Q6J("visible",t.display)("breakpoints",p.DdM(20,N))("baseZIndex",1e4)("draggable",!1)("resizable",!1),p.xp6(1),p.Q6J("formGroup",t.teacherForm),p.xp6(40),p.Q6J("value",!1),p.xp6(5),p.Q6J("autoDisplayFirst",!1)("options",null==t.grades?null:t.grades.class),p.xp6(6),p.Q6J("ngForOf",t.subjectsFormArr.controls))},directives:[c.FN,d.Z,g.Hq,Z.iA,l.jx,m.V,n._Y,n.JL,n.sg,n.Fj,h.o,n.JJ,n.u,b.EU,n.wV,n.Wl,f.Lt,n.CE,r.sg,Z.lQ,Z.fz,r.mk,n.x0,g.zx],styles:["p-radioButton[_ngcontent-%COMP%]{display:inline-block;margin-right:.7em}.d-horizontal[_ngcontent-%COMP%]{display:block}.align-right[_ngcontent-%COMP%]{text-align:right}"]}),e})(),data:{title:"Register Teacher",breadcrumb:"Registration",role:"REGISTER_TEACHER"}}];let k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[s.Bz.forChild(y)],s.Bz]}),e})();var F=i(65706),w=i(59165),I=i(25627);let j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({providers:[{provide:o.TP,useClass:I.b,multi:!0}],imports:[[r.ez,k,F.m,w.W,o.JF,n.u5,n.UX]]}),e})()}}]);