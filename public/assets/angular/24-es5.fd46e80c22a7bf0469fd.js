!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(self.webpackChunkangular=self.webpackChunkangular||[]).push([[24],{82051:function(e,t){var n,i;void 0===(i="function"==typeof(n=function(){"use strict";function t(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){a(i.response,t,n)},i.onerror=function(){console.error("could not download file")},i.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,o,a){var r=s.URL||s.webkitURL,l=document.createElement("a");l.download=o=o||e.name||"download",l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):n(l.href)?t(e,o,a):i(l,l.target="_blank")):(l.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(l.href)},4e4),setTimeout(function(){i(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,s,o){if(s=s||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,o),s);else if(n(e))t(e,s,o);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){i(a)})}}:function(e,n,i,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,i);var r="application/octet-stream"===e.type,l=/constructor/i.test(s.HTMLElement)||s.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||r&&l||o)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},c.readAsDataURL(e)}else{var d=s.URL||s.webkitURL,p=d.createObjectURL(e);a?a.location=p:location.href=p,a=null,setTimeout(function(){d.revokeObjectURL(p)},4e4)}});s.saveAs=a.saveAs=a,e.exports=a})?n.apply(t,[]):n)||(e.exports=i)},7024:function(t,i,s){"use strict";s.r(i),s.d(i,{ExamModule:function(){return ct}});var o=s(61511),a=s(29063),r=s(16073),l=s(57629),u=s(65042),c=s(92290),d=s(82051),p=s(31572),g=s(60898),m=s(51146),f=s(68751),h=s(74568),Z=s(46726),_=s(97593),v=s(63240),b=s(69892),A=s(84094),T=["submit"];function y(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",25),p.TgZ(1,"h5",26),p._uU(2,"Record Student Results"),p.qZA(),p.TgZ(3,"span",27),p._UZ(4,"i",28),p.TgZ(5,"input",29),p.NdJ("input",function(e){return p.CHM(n),p.oxw(),p.MAs(29).filterGlobal(e.target.value,"contains")}),p.qZA(),p.qZA(),p.qZA()}}function q(e,t){1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"th",30),p._uU(2,"SN"),p.qZA(),p.TgZ(3,"th",31),p._uU(4,"Name "),p._UZ(5,"p-sortIcon",32),p.qZA(),p.TgZ(6,"th",33),p._uU(7,"Gender "),p._UZ(8,"p-sortIcon",34),p.qZA(),p.TgZ(9,"th",35),p._uU(10,"Marks "),p._UZ(11,"p-sortIcon",36),p.qZA(),p.TgZ(12,"th",37),p._uU(13,"Grade "),p._UZ(14,"p-sortIcon",38),p.qZA(),p.qZA())}function x(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.TgZ(7,"td"),p.TgZ(8,"div",39),p.TgZ(9,"p-inputNumber",40),p.NdJ("ngModelChange",function(e){return t.$implicit.marks=e})("onInput",function(){return p.CHM(n),p.oxw().enableSubmitButton()}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(10,"td"),p._uU(11),p.qZA(),p.qZA()}if(2&e){var i=t.$implicit,s=t.rowIndex;p.xp6(2),p.Oqu(s+1),p.xp6(2),p.Oqu(i.first_name+" "+i.middle_name+" "+i.last_name),p.xp6(2),p.Oqu(i.gender),p.xp6(3),p.Q6J("ngModel",i.marks)("min",0)("max",100)("minFractionDigits",2),p.xp6(2),p.Oqu(i.grade)}}var k=function(){return["first_name","middle_name","last_name","gender","grade"]},U=function(){var t=function(){function t(n,i,s){e(this,t),this.ls=n,this.http=i,this.messageService=s}return n(t,[{key:"ngOnInit",value:function(){var e,t=this,n=this.ls.getItem("APP_USER");this.institution_id=null===(e=null==n?void 0:n.user)||void 0===e?void 0:e.institution_id,this.getCurrentExams().subscribe(function(e){return t.exam=e},function(e){return console.log("oops",e)}),this.getTeacherSubject().subscribe(function(e){return t.subject=e},function(e){return console.log("oops",e)})}},{key:"getCurrentExams",value:function(){return this.http.get("".concat(u.N.apiURL,"/current_exam/")+this.institution_id)}},{key:"getTeacherSubject",value:function(){return this.http.get("".concat(u.N.apiURL,"/teacher_subject"))}},{key:"getTeacherClass",value:function(e){var t=this;this.subject_id=e,this.http.get("".concat(u.N.apiURL,"/teacher_grade/")+this.subject_id).subscribe(function(e){return t.grade=e},function(e){return console.log("oops",e)})}},{key:"getStudentResult",value:function(e){var t=this;this.class_id=e,this.http.post("".concat(u.N.apiURL,"/student_result"),{exam_schedule_id:this.exam_id,class_id:this.class_id,subject_id:this.subject_id}).subscribe(function(e){return t.results=e},function(e){return console.log("oops",e)})}},{key:"enableSubmitButton",value:function(){this.button.nativeElement.disabled=!1}},{key:"submitResult",value:function(){var e=this;this.button.nativeElement.disabled=!0,this.http.post("".concat(u.N.apiURL,"/update_student_result"),{exam_schedule_id:this.exam_id,result:this.results}).subscribe(function(t){e.res=t,e.results={student_result:e.res.student_result},e.success_message=e.res.message,e.messageService.add({key:"success",severity:"success",summary:"Success Message",detail:e.success_message})},function(t){return e.error="Error occured, please contact administrator"})}},{key:"exportExcel",value:function(){var e=this,t=this.createExcelData();s.e(153).then(s.t.bind(s,31153,23)).then(function(n){var i=n.utils.json_to_sheet(t),s=n.write({Sheets:{data:i},SheetNames:["data"]},{bookType:"xlsx",type:"array"});e.saveAsExcelFile(s,"student_file")})}},{key:"saveAsExcelFile",value:function(e,t){var n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});d.saveAs(n,t+"_export_"+(new Date).getTime()+".xlsx")}},{key:"createExcelData",value:function(){for(var e=this.results.student_result,t=e.length,n=[],i=0;i<t;i++)n[i]={SN:i+1,STUDENTID:e[i].preferred_id,FIRST_NAME:e[i].first_name,MIDDLE_NAME:e[i].middle_name,LAST_NAME:e[i].last_name,MARKS:e[i].marks};return n}},{key:"onFileChange",value:function(e){var t=this;try{s.e(153).then(s.t.bind(s,31153,23)).then(function(n){var i=null,s=null,o=new FileReader;o.onload=function(e){i=n.read(o.result,{type:"binary"});var a=(s=i.SheetNames.reduce(function(e,t){return e[t]=n.utils.sheet_to_json(i.Sheets[t]),e},{}))[Object.keys(s)[0]];t.mapResult(a)},o.readAsBinaryString(e.target.files[0])})}catch(e){console.log("error",e)}}},{key:"mapResult",value:function(e){var t=this;this.results.student_result.forEach(function(n){var i=n.preferred_id,s=e.find(function(e){return e.STUDENTID==i});n.marks=s.MARKS,t.enableSubmitButton()})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(p.Y36(g.g),p.Y36(a.eN),p.Y36(c.ez))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-result"]],viewQuery:function(e,t){var n;(1&e&&p.Gf(T,5),2&e)&&(p.iGM(n=p.CRH())&&(t.button=n.first))},features:[p._Bn([c.ez])],decls:33,vars:15,consts:[["position","top-right","key","success"],[1,"p-fluid","p-grid"],[1,"p-field","p-col-12","p-md-4"],[1,"p-float-label"],["inputId","exam_id","optionLabel","name","optionValue","id",3,"autoDisplayFirst","options","ngModel","ngModelChange"],["for","current_exam"],["inputId","subject_id","optionLabel","name","optionValue","id",3,"autoDisplayFirst","options","ngModel","ngModelChange","onChange"],["for","subject"],["inputId","class_id","optionLabel","name","optionValue","id",3,"autoDisplayFirst","options","ngModel","ngModelChange","onChange"],["for","class"],[1,"p-grid","p-jc-start"],[1,"p-col-1"],["type","button","pButton","","pRipple","","icon","pi pi-file-excel","pTooltip","Download excel file","tooltipPosition","bottom","label","Download",1,"p-button-warning","p-mr-2",3,"disabled","click"],[1,"p-col-2"],[1,"center"],["type","file","size","60",3,"disabled","change"],["myInput",""],[1,"p-col"],["pButton","","type","button","label","Submit","icon","pi pi-save","iconPos","left","disabled","true",1,"p-button",2,"float","right",3,"click"],["submit",""],["dataKey","id",3,"value","globalFilterFields","rowHover"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"p-m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search student...",3,"input"],[2,"width","4rem"],["pSortableColumn","name"],["field","name"],["pSortableColumn","gender"],["field","gender"],["pSortableColumn","marks"],["field","marks"],["pSortableColumn","grade"],["field","grade"],[1,"p-input-filled"],["mode","decimal",3,"ngModel","min","max","minFractionDigits","ngModelChange","onInput"]],template:function(e,t){1&e&&(p._UZ(0,"p-toast",0),p.TgZ(1,"p-card"),p.TgZ(2,"div",1),p.TgZ(3,"div",2),p.TgZ(4,"span",3),p.TgZ(5,"p-dropdown",4),p.NdJ("ngModelChange",function(e){return t.exam_id=e}),p.qZA(),p.TgZ(6,"label",5),p._uU(7,"Current Exam"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(8,"div",2),p.TgZ(9,"span",3),p.TgZ(10,"p-dropdown",6),p.NdJ("ngModelChange",function(e){return t.subject_id=e})("onChange",function(){return t.getTeacherClass(t.subject_id)}),p.qZA(),p.TgZ(11,"label",7),p._uU(12,"Subject"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(13,"div",2),p.TgZ(14,"span",3),p.TgZ(15,"p-dropdown",8),p.NdJ("ngModelChange",function(e){return t.class_id=e})("onChange",function(){return t.getStudentResult(t.class_id)}),p.qZA(),p.TgZ(16,"label",9),p._uU(17,"Class"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(18,"div",10),p.TgZ(19,"div",11),p.TgZ(20,"button",12),p.NdJ("click",function(){return t.exportExcel()}),p.qZA(),p.qZA(),p.TgZ(21,"div",13),p.TgZ(22,"div",14),p.TgZ(23,"input",15,16),p.NdJ("change",function(e){return t.onFileChange(e)}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(25,"div",17),p.TgZ(26,"button",18,19),p.NdJ("click",function(){return t.submitResult()}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(28,"p-table",20,21),p.YNc(30,y,6,0,"ng-template",22),p.YNc(31,q,15,0,"ng-template",23),p.YNc(32,x,12,8,"ng-template",24),p.qZA(),p.qZA()),2&e&&(p.xp6(5),p.Q6J("autoDisplayFirst",!1)("options",null==t.exam?null:t.exam.current_exams)("ngModel",t.exam_id),p.xp6(5),p.Q6J("autoDisplayFirst",!1)("options",null==t.subject?null:t.subject.teacher_subjects)("ngModel",t.subject_id),p.xp6(5),p.Q6J("autoDisplayFirst",!1)("options",null==t.grade?null:t.grade.teacher_grade)("ngModel",t.class_id),p.xp6(5),p.Q6J("disabled",!(null!=t.results&&t.results.student_result)),p.xp6(3),p.Q6J("disabled",!(null!=t.results&&t.results.student_result)),p.xp6(5),p.Q6J("value",null==t.results?null:t.results.student_result)("globalFilterFields",p.DdM(14,k))("rowHover",!0))},directives:[m.FN,f.Z,h.Lt,r.JJ,r.On,Z.Hq,_.u,v.iA,c.jx,b.o,v.lQ,v.fz,A.Rn],styles:[".center[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;height:40px;border:1px solid #228717;background:#acf7a3;padding-left:3px}"]}),t}(),w=s(29236),C=["submit"];function M(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",18),p.TgZ(1,"h5",19),p._uU(2,"Registered students"),p.qZA(),p.TgZ(3,"span",20),p._UZ(4,"i",21),p.TgZ(5,"input",22),p.NdJ("input",function(e){return p.CHM(n),p.oxw(),p.MAs(18).filterGlobal(e.target.value,"contains")}),p.qZA(),p.qZA(),p.qZA()}}function S(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"tr"),p.TgZ(1,"th",23),p.TgZ(2,"mat-checkbox",24),p.NdJ("change",function(e){return p.CHM(n),p.oxw().setAll(e.checked)}),p.qZA(),p.qZA(),p.TgZ(3,"th",25),p._uU(4,"Name "),p._UZ(5,"p-sortIcon",26),p.qZA(),p.TgZ(6,"th",27),p._uU(7,"Gender "),p._UZ(8,"p-sortIcon",28),p.qZA(),p.TgZ(9,"th",29),p._uU(10,"Is Registered "),p._UZ(11,"p-sortIcon",30),p.qZA(),p.qZA()}if(2&e){var i=p.oxw();p.xp6(2),p.Q6J("checked",i.allRegistered)("indeterminate",i.someComplete())}}function N(e,t){1&e&&p._UZ(0,"i",33)}function I(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"tr"),p.TgZ(1,"td"),p.TgZ(2,"mat-checkbox",31),p.NdJ("ngModelChange",function(e){return t.$implicit.is_registered=e})("ngModelChange",function(){return p.CHM(n),p.oxw().updateAllComplete()}),p.qZA(),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.TgZ(7,"td"),p.YNc(8,N,1,0,"i",32),p.qZA(),p.qZA()}if(2&e){var i=t.$implicit;p.xp6(2),p.Q6J("value",i)("ngModel",i.is_registered)("checked",!0),p.xp6(2),p.Oqu(i.name),p.xp6(2),p.Oqu(i.gender),p.xp6(2),p.Q6J("ngIf",i.is_registered)}}function R(e,t){if(1&e&&(p.TgZ(0,"div",18),p._uU(1),p.qZA()),2&e){var n=p.oxw();p.xp6(1),p.hij(" In total there are ",null!=n.register_student&&n.register_student.result?n.register_student.length:0," students. ")}}var F=function(){return["name","gender"]},O=function(){var t=function(){function t(n,i,s){e(this,t),this.http=n,this.messageService=i,this.ls=s,this.selected_Students=[],this.allRegistered=!1}return n(t,[{key:"ngOnInit",value:function(){var e=this,t=this.ls.getItem("APP_USER");this.institution_id=null==t?void 0:t.user.institution_id,this.getTeacherSubject().subscribe(function(t){return e.subject=t},function(e){return console.log("oops",e)}),this.getGrade().subscribe(function(t){return e.grade=t},function(e){return console.log("oops",e)})}},{key:"getTeacherSubject",value:function(){return this.http.get("".concat(u.N.apiURL,"/teacher_subject"))}},{key:"getGrade",value:function(){return this.http.get("".concat(u.N.apiURL,"/grade/")+this.institution_id)}},{key:"registeredStudent",value:function(){var e=this;null==this.class_id&&null==this.subject_id||this.http.get("".concat(u.N.apiURL,"/registered_student_subject/")+this.class_id+"/"+this.subject_id).subscribe(function(t){return e.register_student=t},function(t){return e.error="Error occured, please contact administrator"})}},{key:"enableSubmitButton",value:function(){this.button.nativeElement.disabled=!1}},{key:"setAll",value:function(e){this.allRegistered=e,null!=this.register_student.result&&(this.register_student.result.forEach(function(t){return t.is_registered=e}),this.enableSubmitButton())}},{key:"updateAllComplete",value:function(){this.allRegistered=null!=this.register_student.result&&this.register_student.result.every(function(e){return e.is_registered}),this.enableSubmitButton()}},{key:"someComplete",value:function(){var e;return null!=(null===(e=this.register_student)||void 0===e?void 0:e.result)&&this.register_student.result.filter(function(e){return e.is_registered}).length>0&&!this.allRegistered}},{key:"submitResult",value:function(){var e=this;this.button.nativeElement.disabled=!0,this.http.post("".concat(u.N.apiURL,"/update_registered_student"),{student:this.register_student,subject_id:this.subject_id,class_id:this.class_id}).subscribe(function(t){var n,i;console.log(t),e.res=t,e.register_student={result:null===(n=e.res)||void 0===n?void 0:n.result},e.messageService.add({key:"success",severity:"success",summary:"Success Message",detail:null===(i=e.res)||void 0===i?void 0:i.message})},function(t){return e.error="Error occured, please contact administrator"})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(p.Y36(a.eN),p.Y36(c.ez),p.Y36(g.g))},t.\u0275cmp=p.Xpm({type:t,selectors:[["registered-student"]],viewQuery:function(e,t){var n;(1&e&&p.Gf(C,5),2&e)&&(p.iGM(n=p.CRH())&&(t.button=n.first))},features:[p._Bn([c.ez])],decls:23,vars:13,consts:[["position","top-right","key","success"],[1,"p-fluid","p-grid"],[1,"p-field","p-col-12","p-md-4"],[1,"p-float-label"],["inputId","id","optionLabel","name","optionValue","id",3,"autoDisplayFirst","options","ngModel","ngModelChange"],["for","subject"],["inputId","id","optionLabel","name","optionValue","id",3,"autoDisplayFirst","options","ngModel","ngModelChange","onChange"],["for","class"],[1,"p-grid","p-align-center"],[1,"p-col"],["pButton","","type","button","label","Submit","icon","pi pi-save","iconPos","left","disabled","",1,"p-button",2,"float","right",3,"click"],["submit",""],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","paginator","globalFilterFields","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"p-m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search student...",3,"input"],[2,"width","3rem"],[3,"checked","indeterminate","change"],["pSortableColumn","name"],["field","name"],["pSortableColumn","gender"],["field","gender"],["pSortableColumn","status"],["field","status"],[3,"value","ngModel","checked","ngModelChange"],["class","pi pi-check-circle",4,"ngIf"],[1,"pi","pi-check-circle"]],template:function(e,t){1&e&&(p._UZ(0,"p-toast",0),p.TgZ(1,"p-card"),p.TgZ(2,"div",1),p.TgZ(3,"div",2),p.TgZ(4,"span",3),p.TgZ(5,"p-dropdown",4),p.NdJ("ngModelChange",function(e){return t.subject_id=e}),p.qZA(),p.TgZ(6,"label",5),p._uU(7,"Subject"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(8,"div",2),p.TgZ(9,"span",3),p.TgZ(10,"p-dropdown",6),p.NdJ("ngModelChange",function(e){return t.class_id=e})("onChange",function(){return t.registeredStudent()}),p.qZA(),p.TgZ(11,"label",7),p._uU(12,"Class"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(13,"div",8),p.TgZ(14,"div",9),p.TgZ(15,"button",10,11),p.NdJ("click",function(){return t.submitResult()}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(17,"p-table",12,13),p.YNc(19,M,6,0,"ng-template",14),p.YNc(20,S,12,2,"ng-template",15),p.YNc(21,I,9,6,"ng-template",16),p.YNc(22,R,2,1,"ng-template",17),p.qZA(),p.qZA()),2&e&&(p.xp6(5),p.Q6J("autoDisplayFirst",!1)("options",null==t.subject?null:t.subject.teacher_subjects)("ngModel",t.subject_id),p.xp6(5),p.Q6J("autoDisplayFirst",!1)("options",null==t.grade?null:t.grade.class)("ngModel",t.class_id),p.xp6(7),p.Q6J("value",null==t.register_student?null:t.register_student.result)("rows",10)("paginator",!0)("globalFilterFields",p.DdM(12,F))("rowHover",!0)("showCurrentPageReport",!0))},directives:[m.FN,f.Z,h.Lt,r.JJ,r.On,Z.Hq,v.iA,c.jx,b.o,w.oG,v.lQ,v.fz,o.O5],styles:[""]}),t}(),E=s(10709),j=s(10250),L=s(55959),J=["mask"];function D(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"button",12),p.NdJ("click",function(){return p.CHM(n),p.oxw(3).hide()})("keydown.enter",function(){return p.CHM(n),p.oxw(3).hide()}),p._UZ(1,"span",13),p.qZA()}2&e&&p.Q6J("ngClass","p-dialog-header-icon p-dialog-header-maximize p-link")}function Y(e,t){if(1&e&&(p.TgZ(0,"div",8),p.TgZ(1,"span",9),p._uU(2),p.qZA(),p.TgZ(3,"div",10),p.YNc(4,D,2,1,"button",11),p.qZA(),p.qZA()),2&e){var n=p.oxw(2);p.xp6(2),p.Oqu(n.config.header),p.xp6(2),p.Q6J("ngIf",!1!==n.config.closable)}}function P(e,t){}function H(e,t){if(1&e&&(p.TgZ(0,"div",14),p._uU(1),p.qZA()),2&e){var n=p.oxw(2);p.xp6(1),p.hij(" ",n.config.footer," ")}}var Q=function(e){return{"p-dialog p-dynamic-dialog p-component":!0,"p-dialog-rtl":e}},B=function(e,t){return{transform:e,transition:t}},z=function(e){return{value:"visible",params:e}};function G(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",3),p.NdJ("@animation.start",function(e){return p.CHM(n),p.oxw().onAnimationStart(e)})("@animation.done",function(e){return p.CHM(n),p.oxw().onAnimationEnd(e)}),p.YNc(1,Y,5,2,"div",4),p.TgZ(2,"div",5),p.YNc(3,P,0,0,"ng-template",6),p.qZA(),p.YNc(4,H,2,1,"div",7),p.qZA()}if(2&e){var i=p.oxw();p.Tol(i.config.styleClass),p.Udp("width",i.config.width)("height",i.config.height),p.Q6J("ngClass",p.VKq(12,Q,i.config.rtl))("ngStyle",i.config.style)("@animation",p.VKq(17,z,p.WLB(14,B,i.transformOptions,i.config.transitionOptions||"150ms cubic-bezier(0, 0, 0.2, 1)"))),p.xp6(1),p.Q6J("ngIf",!1!==i.config.showHeader),p.xp6(1),p.Q6J("ngStyle",i.config.contentStyle),p.xp6(2),p.Q6J("ngIf",i.config.footer)}}var K=function(e){return{"p-dialog-mask":!0,"p-component-overlay p-dialog-mask-scrollblocker":e}},V=function(){var t=function t(n){e(this,t),this.viewContainerRef=n};return t.\u0275fac=function(e){return new(e||t)(p.Y36(p.s_b))},t.\u0275dir=p.lG2({type:t,selectors:[["","pDynamicDialogContent",""]]}),t}(),W=function t(){e(this,t)},$=function(){function t(){e(this,t),this._onClose=new L.xQ,this.onClose=this._onClose.asObservable(),this._onDestroy=new L.xQ,this.onDestroy=this._onDestroy.asObservable()}return n(t,[{key:"close",value:function(e){this._onClose.next(e)}},{key:"destroy",value:function(){this._onDestroy.next()}}]),t}(),X=(0,E.oQ)([(0,E.oB)({transform:"{{transform}}",opacity:0}),(0,E.jt)("{{transition}}",(0,E.oB)({transform:"none",opacity:1}))]),ee=(0,E.oQ)([(0,E.jt)("{{transition}}",(0,E.oB)({transform:"{{transform}}",opacity:0}))]),te=function(){var t=function(){function t(n,i,s,o,a,r){e(this,t),this.componentFactoryResolver=n,this.cd=i,this.renderer=s,this.config=o,this.dialogRef=a,this.zone=r,this.visible=!0,this.transformOptions="scale(0.7)"}return n(t,[{key:"ngAfterViewInit",value:function(){this.loadChildComponent(this.childComponentType),this.cd.detectChanges()}},{key:"loadChildComponent",value:function(e){var t=this.componentFactoryResolver.resolveComponentFactory(e),n=this.insertionPoint.viewContainerRef;n.clear(),this.componentRef=n.createComponent(t)}},{key:"moveOnTop",value:function(){if(!1!==this.config.autoZIndex){var e=(this.config.baseZIndex||0)+ ++j.p.zindex;this.container.style.zIndex=String(e),this.maskViewChild.nativeElement.style.zIndex=String(e-1)}}},{key:"onAnimationStart",value:function(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.moveOnTop(),this.bindGlobalListeners(),!1!==this.config.modal&&this.enableModality(),this.focus();break;case"void":this.onContainerDestroy()}}},{key:"onAnimationEnd",value:function(e){"void"===e.toState&&this.dialogRef.destroy()}},{key:"onContainerDestroy",value:function(){this.unbindGlobalListeners(),!1!==this.config.modal&&this.disableModality(),this.container=null}},{key:"close",value:function(){this.visible=!1,this.cd.markForCheck()}},{key:"hide",value:function(){this.dialogRef&&this.dialogRef.close()}},{key:"enableModality",value:function(){var e=this;!1!==this.config.closable&&this.config.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",function(t){e.wrapper&&e.wrapper.isSameNode(t.target)&&e.hide()})),!1!==this.config.modal&&j.p.addClass(document.body,"p-overflow-hidden")}},{key:"disableModality",value:function(){this.wrapper&&(this.config.dismissableMask&&this.unbindMaskClickListener(),!1!==this.config.modal&&j.p.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}},{key:"onKeydown",value:function(e){if(9===e.which){e.preventDefault();var t=j.p.getFocusableElements(this.container);if(t&&t.length>0)if(t[0].ownerDocument.activeElement){var n=t.indexOf(t[0].ownerDocument.activeElement);e.shiftKey?-1==n||0===n?t[t.length-1].focus():t[n-1].focus():-1==n||n===t.length-1?t[0].focus():t[n+1].focus()}else t[0].focus()}}},{key:"focus",value:function(){var e=j.p.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(function(){setTimeout(function(){return e.focus()},5)})}},{key:"bindGlobalListeners",value:function(){this.bindDocumentKeydownListener(),!1!==this.config.closeOnEscape&&!1!==this.config.closable&&this.bindDocumentEscapeListener()}},{key:"unbindGlobalListeners",value:function(){this.unbindDocumentKeydownListener(),this.unbindDocumentEscapeListener()}},{key:"bindDocumentKeydownListener",value:function(){var e=this;this.zone.runOutsideAngular(function(){e.documentKeydownListener=e.onKeydown.bind(e),window.document.addEventListener("keydown",e.documentKeydownListener)})}},{key:"unbindDocumentKeydownListener",value:function(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)}},{key:"bindDocumentEscapeListener",value:function(){var e=this;this.documentEscapeListener=this.renderer.listen(this.maskViewChild?this.maskViewChild.nativeElement.ownerDocument:"document","keydown",function(t){27==t.which&&parseInt(e.container.style.zIndex)==j.p.zindex+(e.config.baseZIndex?e.config.baseZIndex:0)&&e.hide()})}},{key:"unbindDocumentEscapeListener",value:function(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}},{key:"unbindMaskClickListener",value:function(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}},{key:"ngOnDestroy",value:function(){this.onContainerDestroy(),this.componentRef&&this.componentRef.destroy()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(p.Y36(p._Vd),p.Y36(p.sBO),p.Y36(p.Qsj),p.Y36(W),p.Y36($),p.Y36(p.R0b))},t.\u0275cmp=p.Xpm({type:t,selectors:[["p-dynamicDialog"]],viewQuery:function(e,t){var n;(1&e&&(p.Gf(V,5),p.Gf(J,5)),2&e)&&(p.iGM(n=p.CRH())&&(t.insertionPoint=n.first),p.iGM(n=p.CRH())&&(t.maskViewChild=n.first))},decls:3,vars:4,consts:[[3,"ngClass"],["mask",""],["role","dialog",3,"ngClass","ngStyle","class","width","height",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content",3,"ngStyle"],["pDynamicDialogContent",""],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[1,"p-dialog-title"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon","pi","pi-times"],[1,"p-dialog-footer"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0,1),p.YNc(2,G,5,19,"div",2),p.qZA()),2&e&&(p.Q6J("ngClass",p.VKq(2,K,!1!==t.config.modal)),p.xp6(2),p.Q6J("ngIf",t.visible))},directives:function(){return[o.mk,o.O5,o.PC,V]},styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none;background-color:transparent;transition-property:background-color}.p-dialog,.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-dialog-mask.p-dialog-mask-leave{background-color:transparent}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-top .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top,.p-dialog-top-left{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}"],encapsulation:2,data:{animation:[(0,E.X$)("animation",[(0,E.eR)("void => visible",[(0,E._7)(X)]),(0,E.eR)("visible => void",[(0,E._7)(ee)])])]}}),t}(),ne=function(){function t(n,i){e(this,t),this._parentInjector=n,this._additionalTokens=i}return n(t,[{key:"get",value:function(e,t,n){return this._additionalTokens.get(e)||this._parentInjector.get(e,t)}}]),t}(),ie=function(){var t=function(){function t(n,i,s){e(this,t),this.componentFactoryResolver=n,this.appRef=i,this.injector=s,this.dialogComponentRefMap=new Map}return n(t,[{key:"open",value:function(e,t){var n=this.appendDialogComponentToBody(t);return this.dialogComponentRefMap.get(n).instance.childComponentType=e,n}},{key:"appendDialogComponentToBody",value:function(e){var t=this,n=new WeakMap;n.set(W,e);var i=new $;n.set($,i);var s=i.onClose.subscribe(function(){t.dialogComponentRefMap.get(i).instance.close()}),o=i.onDestroy.subscribe(function(){t.removeDialogComponentFromBody(i),o.unsubscribe(),s.unsubscribe()}),a=this.componentFactoryResolver.resolveComponentFactory(te).create(new ne(this.injector,n));return this.appRef.attachView(a.hostView),document.body.appendChild(a.hostView.rootNodes[0]),this.dialogComponentRefMap.set(i,a),i}},{key:"removeDialogComponentFromBody",value:function(e){if(e&&this.dialogComponentRefMap.has(e)){var t=this.dialogComponentRefMap.get(e);this.appRef.detachView(t.hostView),t.destroy(),this.dialogComponentRefMap.delete(e)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(p.LFG(p._Vd),p.LFG(p.z2F),p.LFG(p.zs3))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),t}(),se=s(8500),oe=s(92871),ae=s(53581);function re(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",21),p._UZ(1,"p-confirmDialog"),p.TgZ(2,"button",24),p.NdJ("click",function(){return p.CHM(n),p.oxw(2).publishResuts()}),p.qZA(),p.qZA()}}function le(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",21),p._UZ(1,"p-confirmDialog"),p.TgZ(2,"button",25),p.NdJ("click",function(){return p.CHM(n),p.oxw(2).printReport()}),p.qZA(),p.qZA()}}function ue(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",1),p._UZ(1,"div",20),p.TgZ(2,"div",21),p.TgZ(3,"button",22),p.NdJ("click",function(){return p.CHM(n),p.oxw().sendSMS()}),p.qZA(),p.qZA(),p.YNc(4,re,3,0,"div",23),p.YNc(5,le,3,0,"div",23),p.qZA()}if(2&e){var i=p.oxw();p.xp6(4),p.Q6J("ngIf",0==i.published),p.xp6(1),p.Q6J("ngIf",0!=i.published&&i.is_final)}}function ce(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",27),p.TgZ(1,"button",28),p.NdJ("click",function(){return p.CHM(n),p.oxw(2).exportExcel()}),p.qZA(),p.qZA()}}function de(e,t){if(1&e&&p.YNc(0,ce,2,0,"div",26),2&e){var n=p.oxw();p.Q6J("ngIf",n.display_button)}}function pe(e,t){if(1&e&&(p.TgZ(0,"th",30),p._uU(1),p.qZA()),2&e){var n=t.$implicit;p.Q6J("pSortableColumn",null==n?null:n.field),p.xp6(1),p.hij(" ",null==n?null:n.header," ")}}function ge(e,t){if(1&e&&(p.TgZ(0,"tr"),p.YNc(1,pe,2,2,"th",29),p.qZA()),2&e){var n=t.$implicit;p.xp6(1),p.Q6J("ngForOf",n)}}function me(e,t){if(1&e&&(p.TgZ(0,"td"),p._uU(1),p.qZA()),2&e){var n=t.$implicit,i=p.oxw().$implicit;p.xp6(1),p.hij(" ",i[null==n?null:n.field]," ")}}function fe(e,t){if(1&e&&(p.TgZ(0,"tr"),p.YNc(1,me,2,1,"td",31),p.qZA()),2&e){var n=t.columns;p.xp6(1),p.Q6J("ngForOf",n)}}var he=function(){var t=function(){function t(n,i,s,o,a,r,l){e(this,t),this.http=n,this.ls=i,this.messageService=s,this.layout=o,this.confirmationService=a,this.dialogService=r,this.router=l,this.student_results=[],this.display_button=!1}return n(t,[{key:"ngOnInit",value:function(){var e,t=this;this.layoutConf=this.layout.layoutConf,this.app_user=this.ls.getItem("APP_USER"),this.institution_id=null===(e=this.app_user)||void 0===e?void 0:e.user.institution_id,this.is_final=!1,this.getSchoolCalendar().subscribe(function(e){t.school_calendar=e},function(e){return console.log("oops",e)}),this.getCurrentExams().subscribe(function(e){return t.exam=e},function(e){return console.log("oops",e)}),this.getGrade().subscribe(function(e){return t.grades=e},function(e){return console.log("oops",e)})}},{key:"getSchoolCalendar",value:function(){return this.http.get("".concat(u.N.apiURL,"/school_calendar/")+this.institution_id)}},{key:"getCurrentExams",value:function(){return this.http.get("".concat(u.N.apiURL,"/current_exam/")+this.institution_id)}},{key:"getGrade",value:function(){return this.http.get("".concat(u.N.apiURL,"/class_teacher_grade"))}},{key:"getStudentResults",value:function(){var e=this;this.toggleSidenav(),this.school_calendar_id&&this.exam_id&&this.class_id&&0==this.is_final?this.http.get("".concat(u.N.apiURL,"/class_result/").concat(this.school_calendar_id,"/").concat(this.exam_id,"/").concat(this.class_id)).subscribe(function(t){var n;e.res=t,e.student_results=null===(n=e.res)||void 0===n?void 0:n.data,e.cols=e.res.header,e.display_button=!0,e.published=e.res.published},function(e){return console.log("oops",e)}):this.school_calendar_id&&1==this.is_final&&this.class_id?this.http.get("".concat(u.N.apiURL,"/class_result/").concat(this.school_calendar_id,"/").concat(this.class_id)).subscribe(function(t){var n,i,s,o;e.res=null==t?void 0:t.data,e.cols=null===(n=e.res)||void 0===n?void 0:n.header,e.student_results=null===(i=e.res)||void 0===i?void 0:i.data,e.display_button=!0,e.published=null===(s=e.res)||void 0===s?void 0:s.published,e.term_id=null===(o=e.res)||void 0===o?void 0:o.term},function(e){return console.log("oops",e)}):this.messageService.add({key:"success",severity:"info",summary:"Error Message",detail:"Please select all required fields!"})}},{key:"exportExcel",value:function(){var e=this,t=this.createExelData();s.e(153).then(s.t.bind(s,31153,23)).then(function(n){var i=n.utils.json_to_sheet(t),s=n.write({Sheets:{data:i},SheetNames:["data"]},{bookType:"xlsx",type:"array"});e.saveAsExcelFile(s,"exam_results")})}},{key:"saveAsExcelFile",value:function(e,t){var n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});d.saveAs(n,t+"_export_"+(new Date).getTime()+".xlsx")}},{key:"toggleSidenav",value:function(){if("closed"===this.layoutConf.sidebarStyle)return this.layout.publishLayoutChange({sidebarStyle:"full"});this.layout.publishLayoutChange({sidebarStyle:"closed"})}},{key:"publishResuts",value:function(){var e=this;this.confirmationService.confirm({message:"Are you sure that you want publish student results? Results will be visible to parents once published",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){e.school_calendar_id&&e.exam_id&&e.class_id&&0==e.is_final?e.http.post("".concat(u.N.apiURL,"/publish_results"),{results:e.student_results,exam_id:e.exam_id,user_id:e.app_user.user.id,class_id:e.class_id}).subscribe(function(t){e.res=t,e.published=e.res.published,e.success_message=e.res.message,e.messageService.add({key:"success",severity:"success",summary:"Success Message",detail:e.success_message})},function(t){return e.error="Error occured, please contact administrator"}):e.school_calendar_id&&1==e.is_final&&e.class_id&&e.http.post("".concat(u.N.apiURL,"/publish_results_final"),{results:e.student_results,school_calendar_id:e.school_calendar_id,class_id:e.class_id}).subscribe(function(t){e.res=t,e.published=e.res.published,e.success_message=e.res.message,e.messageService.add({key:"success",severity:"success",summary:"Success Message",detail:e.success_message})},function(t){return e.error="Error occured, please contact administrator"})},reject:function(){e.messageService.add({key:"success",severity:"info",summary:"Success Message",detail:"Publish results cancelled!"})}})}},{key:"createExelData",value:function(){for(var e=this.student_results.length,t=this.cols.length,n=new Array(e).fill(0).map(function(){return new Array(t)}),i=0;i<e;i++)for(var s in this.cols){var o=this.cols[s].field;n[i][o]=this.student_results[i][o]?this.student_results[i][o]:""}return n}},{key:"sendSMS",value:function(){var e=this;this.confirmationService.confirm({message:"Are you sure that you want send SMS to parents?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){e.school_calendar_id&&e.exam_id&&e.class_id&&0==e.is_final?e.http.post("".concat(u.N.apiURL,"/publish_message"),{results:e.student_results,exam_id:e.exam_id,class_id:e.class_id}).subscribe(function(t){e.res=t,e.success_message=e.res.message,e.messageService.add({key:"success",severity:"success",summary:"Success Message",detail:e.success_message})},function(t){return e.error="Error occured, please contact administrator"}):e.school_calendar_id&&1==e.is_final&&e.class_id&&e.http.post("".concat(u.N.apiURL,"/publish_message_final"),{results:e.student_results,class_id:e.class_id}).subscribe(function(t){e.res=t,e.success_message=e.res.message,e.messageService.add({key:"success",severity:"success",summary:"Success Message",detail:e.success_message})},function(t){return e.error="Error occured, please contact administrator"})},reject:function(){e.messageService.add({key:"success",severity:"info",summary:"Success Message",detail:"Message failed!"})}})}},{key:"printReport",value:function(){this.router.navigate(["/exam/individual-report",{class_id:this.class_id,term_id:this.term_id}])}}]),t}();return t.\u0275fac=function(e){return new(e||t)(p.Y36(a.eN),p.Y36(g.g),p.Y36(c.ez),p.Y36(se.P),p.Y36(c.YP),p.Y36(ie),p.Y36(l.F0))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-publish-result"]],features:[p._Bn([c.ez,c.YP,ie])],decls:30,vars:14,consts:[["position","top-right","key","success"],[1,"p-fluid","p-grid"],[1,"p-field","p-col-12","p-md-3"],[1,"p-float-label"],["inputId","school_calendar","optionLabel","name","optionValue","id",3,"autoDisplayFirst","options","ngModel","ngModelChange"],["for","class"],[1,"p-field","p-col-12","p-md-2"],[1,"p-field-checkbox","p-mt-3"],["binary","true","inputId","isfinal",3,"ngModel","ngModelChange"],["for","isfinal"],["inputId","exam_id","optionLabel","name","optionValue","id",3,"autoDisplayFirst","options","ngModel","disabled","ngModelChange"],["for","current_exam"],["inputId","class_id","optionLabel","name","optionValue","id",3,"autoDisplayFirst","options","ngModel","ngModelChange"],[1,"p-field","p-col-12","p-md-1"],["label","Go","icon","pi pi-search","styleClass","p-button-lg",3,"click"],["class","p-fluid p-grid",4,"ngIf"],[3,"columns","value"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-col-12","p-md-6"],[1,"p-col-12","p-md-3"],["pButton","","type","button","icon","pi pi-external-link","iconPos","left","label","Send SMS","pTooltip","Once clicked, results will be seen by the parents","tooltipPosition","bottom",1,"p-button-info",3,"click"],["class","p-col-12 p-md-3",4,"ngIf"],["pButton","","type","button","icon","pi pi-external-link","iconPos","left","label","Publish Results","pTooltip","Once published, results will be seen by the parents","tooltipPosition","bottom",1,"p-button-info",3,"click"],["pButton","","type","button","icon","pi pi-external-link","iconPos","left","label","Print Report","pTooltip","Display individual report of all sturdents","tooltipPosition","bottom",1,"p-button-info",3,"click"],["class","p-d-flex",4,"ngIf"],[1,"p-d-flex"],["type","button","pButton","","pRipple","","icon","pi pi-file-excel","pTooltip","Download excel file","tooltipPosition","bottom","label","Download",1,"p-button-warning","p-mr-2",3,"click"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(p._UZ(0,"p-toast",0),p.TgZ(1,"p-card"),p.TgZ(2,"div",1),p.TgZ(3,"div",2),p.TgZ(4,"span",3),p.TgZ(5,"p-dropdown",4),p.NdJ("ngModelChange",function(e){return t.school_calendar_id=e}),p.qZA(),p.TgZ(6,"label",5),p._uU(7,"Select Calendar Year "),p.qZA(),p.qZA(),p.qZA(),p.TgZ(8,"div",6),p.TgZ(9,"div",7),p.TgZ(10,"p-checkbox",8),p.NdJ("ngModelChange",function(e){return t.is_final=e}),p.qZA(),p.TgZ(11,"label",9),p._uU(12,"Final Report"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(13,"div",2),p.TgZ(14,"span",3),p.TgZ(15,"p-dropdown",10),p.NdJ("ngModelChange",function(e){return t.exam_id=e}),p.qZA(),p.TgZ(16,"label",11),p._uU(17,"Current Exam"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(18,"div",2),p.TgZ(19,"span",3),p.TgZ(20,"p-dropdown",12),p.NdJ("ngModelChange",function(e){return t.class_id=e}),p.qZA(),p.TgZ(21,"label",5),p._uU(22,"Select Class"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(23,"div",13),p.TgZ(24,"p-button",14),p.NdJ("click",function(){return t.getStudentResults()}),p.qZA(),p.qZA(),p.qZA(),p.YNc(25,ue,6,2,"div",15),p.TgZ(26,"p-table",16),p.YNc(27,de,1,1,"ng-template",17),p.YNc(28,ge,2,1,"ng-template",18),p.YNc(29,fe,2,1,"ng-template",19),p.qZA(),p.qZA()),2&e&&(p.xp6(5),p.Q6J("autoDisplayFirst",!1)("options",null==t.school_calendar?null:t.school_calendar.results)("ngModel",t.school_calendar_id),p.xp6(5),p.Q6J("ngModel",t.is_final),p.xp6(5),p.Q6J("autoDisplayFirst",!1)("options",null==t.exam?null:t.exam.current_exams)("ngModel",t.exam_id)("disabled",t.is_final),p.xp6(5),p.Q6J("autoDisplayFirst",!1)("options",null==t.grades?null:t.grades.class)("ngModel",t.class_id),p.xp6(5),p.Q6J("ngIf",t.display_button),p.xp6(1),p.Q6J("columns",t.cols)("value",t.student_results))},directives:[m.FN,f.Z,h.Lt,r.JJ,r.On,oe.XZ,Z.zx,o.O5,v.iA,c.jx,Z.Hq,_.u,ae.Q,o.sg,v.lQ],styles:["[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr>th{position:sticky;top:69px;background-color:#9eb2b5;color:#fff}[_nghost-%COMP%]     .p-datatable{font-size:11px}@media screen and (max-width:64em){[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr>th{top:99px}}"]}),t}(),Ze=s(30269),_e=s(76397),ve=s(65962);function be(e,t){1&e&&(p._UZ(0,"i",19),p.TgZ(1,"span"),p._uU(2,"Current Results"),p.qZA())}function Ae(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"th"),p._uU(2),p.qZA(),p.TgZ(3,"th"),p._uU(4),p.qZA(),p.qZA(),p.TgZ(5,"tr"),p.TgZ(6,"th"),p._uU(7),p.qZA(),p.TgZ(8,"th"),p._uU(9),p.qZA(),p.qZA()),2&e){var n=p.oxw();p.xp6(2),p.hij("Student Name: ",null==n.student_details?null:n.student_details.student_name,""),p.xp6(2),p.hij("Class : ",null==n.student_details?null:n.student_details.class,""),p.xp6(3),p.hij("Test Name: ",null==n.student_details?null:n.student_details.exam_name,""),p.xp6(2),p.AsE("TERM: ",null==n.student_details?null:n.student_details.term," ",null==n.student_details?null:n.student_details.academic_year,"")}}function Te(e,t){1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"th"),p._uU(2,"Subject"),p.qZA(),p.TgZ(3,"th"),p._uU(4,"Marks"),p.qZA(),p.TgZ(5,"th"),p._uU(6,"Grade"),p.qZA(),p.TgZ(7,"th"),p._uU(8,"Remarks"),p.qZA(),p.qZA())}function ye(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.TgZ(7,"td"),p._uU(8),p.qZA(),p.qZA()),2&e){var n=t.$implicit;p.xp6(2),p.hij("",null==n?null:n.item," "),p.xp6(2),p.hij("",null==n?null:n.marks," "),p.xp6(2),p.hij("",null==n?null:n.grade," "),p.xp6(2),p.hij("",null==n?null:n.remark," ")}}function qe(e,t){if(1&e&&(p._uU(0," Her position in the "),p.TgZ(1,"u"),p._uU(2),p.qZA(),p._uU(3," class is "),p.TgZ(4,"u"),p._uU(5),p.qZA(),p._uU(6," Out of "),p.TgZ(7,"u"),p._uU(8),p.qZA(),p._uU(9," students ")),2&e){var n=p.oxw();p.xp6(2),p.hij(" ",null==n.student_details?null:n.student_details.class," "),p.xp6(3),p.hij(" ",null==n.result_summary?null:n.result_summary.position," "),p.xp6(3),p.hij(" ",null==n.result_summary?null:n.result_summary.total_students," ")}}function xe(e,t){if(1&e&&(p.TgZ(0,"div"),p._uU(1),p.qZA()),2&e){var n=p.oxw();p.xp6(1),p.hij(" ",null==n.feedback?null:n.feedback.message," ")}}function ke(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div"),p.TgZ(1,"p"),p._uU(2,"Please fill this form properly. The message will be sent to the class teacher."),p.qZA(),p.TgZ(3,"div",20),p.TgZ(4,"div",21),p._UZ(5,"textarea",22),p.qZA(),p._UZ(6,"div",23),p.TgZ(7,"div",24),p.TgZ(8,"p-button",25),p.NdJ("click",function(){return p.CHM(n),p.oxw().submitFeedback()}),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){var i=p.oxw();p.xp6(8),p.Q6J("disabled",!i.parentFeebackForm.valid)}}function Ue(e,t){1&e&&(p._UZ(0,"i",26),p.TgZ(1,"span"),p._uU(2,"Final Results"),p.qZA())}function we(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td",27),p.TgZ(2,"h2"),p._uU(3),p.qZA(),p.TgZ(4,"h3"),p._uU(5),p.qZA(),p.qZA(),p.qZA()),2&e){var n=p.oxw();p.xp6(3),p.hij("",n.institution.title," "),p.xp6(2),p.Oqu(n.institution.address)}}function Ce(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"th"),p._uU(2),p.qZA(),p.TgZ(3,"th"),p._uU(4),p.qZA(),p.qZA(),p.TgZ(5,"tr"),p.TgZ(6,"th"),p._uU(7),p.qZA(),p.TgZ(8,"th"),p._uU(9,"MWAKA: 2021/22 "),p.qZA(),p.qZA()),2&e){var n=p.oxw();p.xp6(2),p.hij("JINA: ",null==n.student_details?null:n.student_details.student_name,""),p.xp6(2),p.hij("KIDATO : ",null==n.student_details?null:n.student_details.class,""),p.xp6(3),p.AsE("MUHULA: ",null==n.student_details?null:n.student_details.term," ",null==n.student_details?null:n.student_details.academic_year,"")}}function Me(e,t){1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"th"),p._uU(2,"SOMO"),p.qZA(),p.TgZ(3,"th"),p._uU(4,"WASTANI WA MAZOEZI"),p.qZA(),p.TgZ(5,"th"),p._uU(6,"JARIBIO"),p.qZA(),p.TgZ(7,"th"),p._uU(8,"WASTANI"),p.qZA(),p.TgZ(9,"th"),p._uU(10,"GREDI"),p.qZA(),p.TgZ(11,"th"),p._uU(12,"MAONI YA MWALIMU WA SOMO"),p.qZA(),p.TgZ(13,"th"),p._uU(14," SAHIHI "),p.qZA(),p.qZA())}function Se(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.TgZ(7,"td"),p._uU(8),p.qZA(),p.TgZ(9,"td"),p._uU(10),p.qZA(),p.TgZ(11,"td"),p._uU(12),p.qZA(),p.TgZ(13,"td"),p._uU(14),p.qZA(),p.qZA()),2&e){var n=t.$implicit;p.xp6(2),p.hij("",null==n?null:n.subject," "),p.xp6(2),p.hij("",null==n?null:n.test," "),p.xp6(2),p.hij("",null==n?null:n.final," "),p.xp6(2),p.Oqu(null==n?null:n.total),p.xp6(2),p.Oqu(null==n?null:n.grade),p.xp6(2),p.Oqu(null==n?null:n.remark),p.xp6(2),p.Oqu(null==n?null:n.signature)}}function Ne(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td",28),p._uU(2,"Total"),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.TgZ(7,"td"),p._uU(8),p.qZA(),p._UZ(9,"td"),p.qZA()),2&e){var n=p.oxw();p.xp6(4),p.hij(" ",null==n.final_result_summary?null:n.final_result_summary.total,""),p.xp6(2),p.hij(" ",null==n.final_result_summary?null:n.final_result_summary.grade,""),p.xp6(2),p.hij(" ",null==n.final_result_summary?null:n.final_result_summary.remark,"")}}function Ie(e,t){if(1&e&&(p._uU(0," Nafasi katika darasa "),p.TgZ(1,"u"),p._uU(2),p.qZA(),p._uU(3," kati ya wanafunzi "),p.TgZ(4,"u"),p._uU(5),p.qZA()),2&e){var n=p.oxw();p.xp6(2),p.hij(" ",null==n.final_result_summary?null:n.final_result_summary.position," "),p.xp6(3),p.hij(" ",null==n.final_result_summary?null:n.final_result_summary.out_of," ")}}function Re(e,t){1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"th",29),p._uU(2," SN"),p.qZA(),p.TgZ(3,"th"),p._uU(4," MAELEZO "),p.qZA(),p.TgZ(5,"th"),p._uU(6," GREDI "),p.qZA(),p.qZA())}function Fe(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.qZA()),2&e){var n=t.$implicit,i=t.rowIndex;p.xp6(2),p.hij("",i+1," "),p.xp6(2),p.hij("",null==n?null:n.description," "),p.xp6(2),p.hij("",null==n?null:n.grade," ")}}function Oe(e,t){1&e&&p._uU(0," A: 75 - 100 = VIZURI SANA, B: 65 - 74 = VIZURI, C: 45 - 64 = HAIRIDHISHI, D: 30 - 44 = DHAIFU SANA, F: 0 - 29 = AMEFELI KABISA ")}var Ee=function(){var t=function(){function t(n,i,s,o){e(this,t),this.http=n,this.ls=i,this.messageService=s,this.sanitizer=o,this.final_results=[],this.parentFeebackForm=new r.cw({message:new r.NI("",r.kI.required)})}return n(t,[{key:"ngOnInit",value:function(){var e,t;this.app_user=this.ls.getItem("APP_USER"),this.user_id=null===(t=null===(e=this.app_user)||void 0===e?void 0:e.user)||void 0===t?void 0:t.id,this.institution=this.app_user.user.institution,this.getStudentResults(this.user_id)}},{key:"getStudentResults",value:function(e){var t=this;this.http.get("".concat(u.N.apiURL,"/student_result/")+e).subscribe(function(e){var n,i,s,o;t.res=e,t.results=null===(n=t.res)||void 0===n?void 0:n.results,t.student_details=null===(i=t.res)||void 0===i?void 0:i.student_details,t.result_summary=null===(s=t.res)||void 0===s?void 0:s.result_summary,t.feedback=null===(o=t.res)||void 0===o?void 0:o.feedback},function(e){return console.log("oops",e)})}},{key:"submitFeedback",value:function(){var e=this,t=this.parentFeebackForm.value.message,n=this.student_details.class_id,i=this.student_details.student_id;this.parentFeebackForm.reset(),this.http.post("".concat(u.N.apiURL,"/parent_feedback/"),{student_id:i,class_id:n,message:t,exam_id:this.student_details.exam_id}).subscribe(function(t){e.res=t,e.success_message=e.res.message,e.feedback=e.res.feedback,e.messageService.add({key:"success",severity:"success",summary:"Success Message",detail:e.success_message})},function(e){return console.log("oops",e)})}},{key:"handleChange",value:function(e){1==e.index&&0==this.final_results.length&&this.getFinalResult(this.user_id)}},{key:"getFinalResult",value:function(e){var t=this;this.http.get("".concat(u.N.apiURL,"/student_final_result/")+e).subscribe(function(e){var n,i;t.res=e,t.final_results=null===(n=t.res)||void 0===n?void 0:n.result_details,t.final_result_summary=null===(i=t.res)||void 0===i?void 0:i.result_summary,t.performance=t.res.performance,t.remarks=t.res.remarks,t.signatures=t.res.signatures,t.displaySignature()},function(e){return console.log("oops",e)})}},{key:"displaySignature",value:function(){var e=this;this.signatures.forEach(function(t){t.head_teacher?e.principal_signature=e.sanitizer.bypassSecurityTrustResourceUrl("data:image/png;base64, ".concat(t.signature)):e.class_signature=e.sanitizer.bypassSecurityTrustResourceUrl("data:image/png;base64, ".concat(t.signature))})}},{key:"openPDF",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(p.Y36(a.eN),p.Y36(g.g),p.Y36(c.ez),p.Y36(Ze.H7))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-student-result"]],features:[p._Bn([c.ez])],decls:77,vars:13,consts:[["position","top-right","key","success"],["styleClass","tabview-custom",3,"onChange"],["pTemplate","header"],[1,"p-ml-4","result-summary"],[3,"value"],["pTemplate","body"],["pTemplate","summary"],[3,"formGroup"],[1,"p-mt-2"],[4,"ngIf"],["header","Header II"],[1,"p-grid","p-jc-end"],[1,"p-col-2"],["id","htmlData"],[1,"p-ml-2","p-mt-2","p-mb-2"],["pTemplate","footer"],[1,"remark","p-mt-2"],["alt","Image Source","width","150","height","70",3,"src"],[1,"p-grid","p-jc-between"],[1,"pi","pi-calendar"],[1,"p-fluid","p-grid","p-mt-2"],[1,"p-field","p-col-12","p-md-12"],["pInputTextarea","","id","message","formControlName","message","rows","5"],[1,"p-field","p-col-12","p-md-10"],[1,"p-field","p-col-12","p-md-2"],["type","submit","label","Submit",3,"disabled","click"],[1,"pi","pi-search"],[2,"text-align","center"],["colspan","3"],[2,"width","2rem"]],template:function(e,t){1&e&&(p._UZ(0,"p-toast",0),p.TgZ(1,"p-card"),p.TgZ(2,"p-tabView",1),p.NdJ("onChange",function(e){return t.handleChange(e)}),p.TgZ(3,"p-tabPanel"),p.YNc(4,be,3,0,"ng-template",2),p.TgZ(5,"p-card"),p.TgZ(6,"p-table"),p.YNc(7,Ae,10,5,"ng-template",2),p.qZA(),p.TgZ(8,"div",3),p._uU(9," Overall Performance: Division "),p.TgZ(10,"u"),p._uU(11),p.qZA(),p._uU(12," Point "),p.TgZ(13,"u"),p._uU(14),p.qZA(),p.qZA(),p.TgZ(15,"p-table",4),p.YNc(16,Te,9,0,"ng-template",2),p.YNc(17,ye,9,4,"ng-template",5),p.YNc(18,qe,10,3,"ng-template",6),p.qZA(),p.TgZ(19,"form",7),p.TgZ(20,"h5",8),p._uU(21,"Parent's feedback "),p.qZA(),p.YNc(22,xe,2,1,"div",9),p.YNc(23,ke,9,1,"div",9),p.qZA(),p.qZA(),p.qZA(),p.TgZ(24,"p-tabPanel",10),p.YNc(25,Ue,3,0,"ng-template",2),p.TgZ(26,"div",11),p._UZ(27,"div",12),p.qZA(),p.TgZ(28,"div",13),p.TgZ(29,"p-card"),p.TgZ(30,"p-table"),p.YNc(31,we,6,2,"ng-template",2),p.qZA(),p.TgZ(32,"p-table"),p.YNc(33,Ce,10,4,"ng-template",2),p.qZA(),p.TgZ(34,"h3",14),p._uU(35," A: RIPOTI YA MAENDELEO YA MWANAFUNZI KATIKA MASOMO"),p.qZA(),p.TgZ(36,"p-table",4),p.YNc(37,Me,15,0,"ng-template",2),p.YNc(38,Se,15,7,"ng-template",5),p.YNc(39,Ne,10,3,"ng-template",15),p.YNc(40,Ie,6,2,"ng-template",6),p.qZA(),p.TgZ(41,"h3",14),p._uU(42," B: UPIMAJI WA TABIA YA KAZI NA MWENENDO "),p.qZA(),p.TgZ(43,"p-table",4),p.YNc(44,Re,7,0,"ng-template",2),p.YNc(45,Fe,7,3,"ng-template",5),p.YNc(46,Oe,1,0,"ng-template",6),p.qZA(),p.TgZ(47,"div",16),p.TgZ(48,"h3"),p._uU(49," Maoni ya mwalimu wa darasa. "),p.qZA(),p.TgZ(50,"p"),p.TgZ(51,"span"),p._uU(52),p.qZA(),p.qZA(),p.TgZ(53,"div",11),p.TgZ(54,"div",12),p.TgZ(55,"div"),p._UZ(56,"img",17),p.qZA(),p.qZA(),p.qZA(),p.TgZ(57,"div",11),p.TgZ(58,"div",12),p._uU(59," SAHIHI "),p.qZA(),p.qZA(),p.qZA(),p.TgZ(60,"div",16),p.TgZ(61,"h3"),p._uU(62,"Maoni ya Mkuu wa shule "),p.qZA(),p.TgZ(63,"p"),p.TgZ(64,"span"),p._uU(65),p.qZA(),p.qZA(),p.TgZ(66,"div",11),p.TgZ(67,"div",12),p.TgZ(68,"div"),p._UZ(69,"img",17),p.qZA(),p.qZA(),p.qZA(),p.TgZ(70,"div",18),p.TgZ(71,"div",12),p.TgZ(72,"div"),p._uU(73),p.qZA(),p.qZA(),p.TgZ(74,"div",12),p.TgZ(75,"div"),p._uU(76," SAHIHI "),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.xp6(11),p.hij("",null==t.result_summary?null:t.result_summary.division," "),p.xp6(3),p.Oqu(null==t.result_summary?null:t.result_summary.point),p.xp6(1),p.Q6J("value",t.results),p.xp6(4),p.Q6J("formGroup",t.parentFeebackForm),p.xp6(3),p.Q6J("ngIf",t.feedback),p.xp6(1),p.Q6J("ngIf",null==t.feedback),p.xp6(13),p.Q6J("value",t.final_results),p.xp6(7),p.Q6J("value",t.performance),p.xp6(9),p.Oqu(null==t.remarks?null:t.remarks.teacher_comment),p.xp6(4),p.Q6J("src",t.class_signature,p.LSH),p.xp6(9),p.hij(" ",null==t.remarks?null:t.remarks.principal_comment," "),p.xp6(4),p.Q6J("src",t.principal_signature,p.LSH),p.xp6(4),p.hij(" Tarehe: ",null==t.remarks?null:t.remarks.date,""))},directives:[m.FN,f.Z,_e.xf,_e.x4,c.jx,v.iA,r._Y,r.JL,r.sg,o.O5,r.Fj,ve.g,r.JJ,r.u,Z.zx],styles:["[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr>th{color:#200b6b;font-size:14px}[_nghost-%COMP%]     .p-component{font-size:14px}[_nghost-%COMP%]     .p-datatable .p-datatable-footer{font-size:14px;background-color:#9eb2b5;color:#fff}[_nghost-%COMP%]     .p-card{padding:20px}.result-summary[_ngcontent-%COMP%]{font-size:14px;font-weight:700;margin-top:4px;color:#0073e6}.remark[_ngcontent-%COMP%], .remark[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px}.remark[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .remark[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.remark[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:2rem}"]}),t}();function je(e,t){if(1&e&&(p.TgZ(0,"div"),p.TgZ(1,"div",10),p.TgZ(2,"div",11),p._uU(3),p.qZA(),p.TgZ(4,"div",12),p.TgZ(5,"span",13),p._UZ(6,"p-dropdown",14),p.TgZ(7,"label",15),p._uU(8,"Grade"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){var n=t.$implicit,i=t.index,s=p.oxw();p.xp6(1),p.Q6J("formGroup",n),p.xp6(2),p.hij(" ",s.items[i].description," "),p.xp6(3),p.Q6J("options",s.grades)("autoDisplayFirst",!1)}}function Le(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"p-button",16),p.NdJ("click",function(){return p.CHM(n),p.oxw().closeDialog()}),p.qZA(),p.TgZ(1,"p-button",17),p.NdJ("click",function(){return p.CHM(n),p.oxw().submitForm()}),p.qZA()}if(2&e){var i=p.oxw();p.xp6(1),p.Q6J("disabled",!i.performanceForm.valid)}}var Je=function(){var t=function(){function t(n,i,s,o){e(this,t),this.fb=n,this.http=i,this.config=s,this.ref=o,this.items=[]}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.grades=[{name:"A",code:"A"},{name:"B",code:"B"},{name:"C",code:"C"},{name:"D",code:"D"},{name:"E",code:"E"},{name:"F",code:"F"}],this.class_id=this.config.data.class_id,this.student=this.config.data.student,this.term_id=this.config.data.term_id,this.student_id=this.student.id,this.initForm(),this.getPerformance(this.class_id).subscribe(function(t){var n;e.items=t.result,e.summary=t.summary;var i=null===(n=e.summary)||void 0===n?void 0:n.teacher_comment;e.performanceForm.patchValue({comments:i}),e.addPerformance()})}},{key:"initForm",value:function(){this.performanceForm=this.fb.group({apply_all:[""],comments:["",r.kI.required],performance:new r.Oe([])})}},{key:"f",get:function(){return this.performanceForm.controls}},{key:"t",get:function(){return this.f.performance}},{key:"getPerformance",value:function(e){return this.http.get("".concat(u.N.apiURL,"/performance/").concat(e,"/").concat(this.student_id,"/").concat(this.term_id))}},{key:"addPerformance",value:function(){var e=this;this.items.forEach(function(t){e.t.push(e.fb.group({apply_all:[""],grade:[t.grade,r.kI.required]}))})}},{key:"submitForm",value:function(){console.log(this.performanceForm.value);for(var e=this.performanceForm.value,t=e.performance,n=[],i=0;i<t.length;i++)n.push({student_id:this.student_id,performance_id:this.items[i].id,term_id:this.term_id,class_id:this.class_id,grade:t[i].grade});e.performance=n,e.student_id=this.student_id,e.term_id=this.term_id,e.class_id=this.class_id,this.ref.close(e)}},{key:"closeDialog",value:function(){this.ref.close()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(p.Y36(r.qu),p.Y36(a.eN),p.Y36(W),p.Y36($))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-add-performance"]],decls:16,vars:4,consts:[[1,"header-title"],[3,"formGroup"],[1,"p-fluid","p-grid","p-mt-2"],[1,"form-group","form-check","p-mt-2",2,"color","rgb(192, 17, 17)"],["type","checkbox","formControlName","apply_all","id","apply_all",3,"value"],["for","apply_all"],[4,"ngFor","ngForOf"],[1,"p-field","p-col-12","p-md-12"],["pInputTextarea","","id","message","formControlName","comments","rows","5"],["pTemplate","footer"],[1,"p-fluid","p-grid","p-mt-2",3,"formGroup"],[1,"p-field","p-col-12","p-md-10"],[1,"p-field","p-col-12","p-md-2"],[1,"p-float-label"],["inputId","grade","formControlName","grade","optionLabel","name","optionValue","code",3,"options","autoDisplayFirst"],["for","grade"],["icon","pi pi-close","label","Cancel","styleClass","p-button-text",3,"click"],["icon","pi pi-check","label","Save","styleClass","p-button-info",3,"disabled","click"]],template:function(e,t){1&e&&(p.TgZ(0,"p-card"),p.TgZ(1,"div",0),p._uU(2),p.qZA(),p.TgZ(3,"form",1),p.TgZ(4,"div",2),p.TgZ(5,"div",3),p._UZ(6,"input",4),p.TgZ(7,"label",5),p._uU(8,"Apply to All Students?"),p.qZA(),p.qZA(),p.qZA(),p.YNc(9,je,9,4,"div",6),p.TgZ(10,"div",2),p.TgZ(11,"div",7),p.TgZ(12,"span"),p._uU(13,"Class Teacher's Comments "),p.qZA(),p._UZ(14,"textarea",8),p.qZA(),p.qZA(),p.qZA(),p.YNc(15,Le,2,1,"ng-template",9),p.qZA()),2&e&&(p.xp6(2),p.hij(" STUDENT NAME: ",t.student.name," "),p.xp6(1),p.Q6J("formGroup",t.performanceForm),p.xp6(3),p.Q6J("value",!1),p.xp6(3),p.Q6J("ngForOf",t.t.controls))},directives:[f.Z,r._Y,r.JL,r.sg,r.Wl,r.JJ,r.u,o.sg,r.Fj,ve.g,c.jx,h.Lt,Z.zx],styles:[".header-title[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]     .p-card .p-card-footer{padding-top:2rem;padding-bottom:2rem;float:right}"]}),t}();function De(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"p-button",10),p.NdJ("click",function(){return p.CHM(n),p.oxw().closeDialog()}),p.qZA(),p.TgZ(1,"p-button",11),p.NdJ("click",function(){return p.CHM(n),p.oxw().submitForm()}),p.qZA()}if(2&e){var i=p.oxw();p.xp6(1),p.Q6J("disabled",!i.commentForm.valid)}}var Ye=function(){var t=function(){function t(n,i,s,o){e(this,t),this.fb=n,this.http=i,this.config=s,this.ref=o}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.class_id=this.config.data.class_id,this.student=this.config.data.student,this.term_id=this.config.data.term_id,this.student_id=this.student.id,this.commentForm=this.initForm(),this.getComment().subscribe(function(t){e.performance=t.result,e.commentForm.patchValue({comments:e.performance.principal_comment})})}},{key:"initForm",value:function(){return this.fb.group({apply_all:[!1],comments:["",r.kI.required]})}},{key:"getComment",value:function(){return this.http.get("".concat(u.N.apiURL,"/performance_comment/").concat(this.class_id,"/").concat(this.student_id,"/").concat(this.term_id))}},{key:"closeDialog",value:function(){this.ref.close()}},{key:"submitForm",value:function(){var e={id:this.performance.id,class_id:this.class_id,term_id:this.term_id,comment:this.commentForm.value};console.log(e),this.ref.close(e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(p.Y36(r.qu),p.Y36(a.eN),p.Y36(W),p.Y36($))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-principal-assessment"]],decls:21,vars:4,consts:[[1,"header-title"],[3,"formGroup"],[1,"p-fluid","p-grid","p-mt-2"],[1,"form-group","form-check","p-mt-2",2,"color","rgb(192, 17, 17)"],["type","checkbox","formControlName","apply_all","id","apply_all",3,"value"],["for","apply_all"],[1,"p-field","p-col-12","p-md-12"],[1,"teacher-comment"],["pInputTextarea","","id","message","formControlName","comments","rows","5"],["pTemplate","footer"],["icon","pi pi-close","label","Cancel","styleClass","p-button-text",3,"click"],["icon","pi pi-check","label","Save","styleClass","p-button-info",3,"disabled","click"]],template:function(e,t){1&e&&(p.TgZ(0,"p-card"),p.TgZ(1,"div",0),p._uU(2),p.qZA(),p.TgZ(3,"form",1),p.TgZ(4,"div",2),p.TgZ(5,"div",3),p._UZ(6,"input",4),p.TgZ(7,"label",5),p._uU(8,"Apply to All Students?"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(9,"div",2),p.TgZ(10,"div",6),p.TgZ(11,"span"),p._uU(12,"CLASS TEACHERS\u2019 REMARKS "),p.qZA(),p.TgZ(13,"p",7),p._uU(14),p.qZA(),p.qZA(),p.qZA(),p.TgZ(15,"div",2),p.TgZ(16,"div",6),p.TgZ(17,"span"),p._uU(18,"HEADMISTRESS\u2019 REMARKS "),p.qZA(),p._UZ(19,"textarea",8),p.qZA(),p.qZA(),p.qZA(),p.YNc(20,De,2,1,"ng-template",9),p.qZA()),2&e&&(p.xp6(2),p.hij(" STUDENT NAME: ",null==t.student?null:t.student.name," "),p.xp6(1),p.Q6J("formGroup",t.commentForm),p.xp6(3),p.Q6J("value",!1),p.xp6(8),p.Oqu(null==t.performance?null:t.performance.teacher_comment))},directives:[f.Z,r._Y,r.JL,r.sg,r.Wl,r.JJ,r.u,r.Fj,ve.g,c.jx,Z.zx],styles:[".header-title[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]     .p-card .p-card-footer{padding-top:2rem;padding-bottom:2rem;float:right}.teacher-comment[_ngcontent-%COMP%]{border:1px solid #000;padding:1rem}"]}),t}();function Pe(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"div",15),p.TgZ(1,"h5",16),p._uU(2,"Record Student Results"),p.qZA(),p.TgZ(3,"span",17),p._UZ(4,"i",18),p.TgZ(5,"input",19),p.NdJ("input",function(e){return p.CHM(n),p.oxw(),p.MAs(21).filterGlobal(e.target.value,"contains")}),p.qZA(),p.qZA(),p.qZA()}}function He(e,t){1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"th",20),p._uU(2,"SN"),p.qZA(),p.TgZ(3,"th",21),p._uU(4,"Name "),p._UZ(5,"p-sortIcon",22),p.qZA(),p.TgZ(6,"th",23),p._uU(7,"Gender "),p._UZ(8,"p-sortIcon",24),p.qZA(),p.TgZ(9,"th"),p._uU(10,"Action"),p.qZA(),p.qZA())}function Qe(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.TgZ(7,"td"),p.TgZ(8,"button",25),p.NdJ("click",function(){var e=p.CHM(n).$implicit;return p.oxw().openPerformance(e)}),p.qZA(),p.TgZ(9,"button",26),p.NdJ("click",function(){var e=p.CHM(n).$implicit;return p.oxw().openComment(e)}),p.qZA(),p.qZA(),p.qZA()}if(2&e){var i=t.$implicit,s=t.rowIndex;p.xp6(2),p.Oqu(s+1),p.xp6(2),p.Oqu(i.name),p.xp6(2),p.Oqu(i.gender)}}var Be=function(){return["name","gender"]};function ze(e,t){1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"th",20),p._uU(2,"SOMO"),p.qZA(),p.TgZ(3,"th"),p._uU(4,"WASTANI WA MAZOEZI"),p.qZA(),p.TgZ(5,"th"),p._uU(6,"JARIBIO"),p.qZA(),p.TgZ(7,"th"),p._uU(8,"WASTANI"),p.qZA(),p.TgZ(9,"th"),p._uU(10,"GREDI"),p.qZA(),p.TgZ(11,"th",21),p._uU(12,"MAONI YA MWALIMU WA SOMO"),p.qZA(),p.TgZ(13,"th",22),p._uU(14,"SAHIHI"),p.qZA(),p.qZA())}function Ge(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td",20),p._uU(2),p.qZA(),p.TgZ(3,"td",23),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.TgZ(7,"td"),p._uU(8),p.qZA(),p.TgZ(9,"td"),p._uU(10),p.qZA(),p.TgZ(11,"td",20),p._uU(12),p.qZA(),p.TgZ(13,"td"),p._uU(14),p.qZA(),p.qZA()),2&e){var n=t.$implicit;p.xp6(2),p.Oqu(n.subject),p.xp6(2),p.Oqu(n.test),p.xp6(2),p.Oqu(n.final),p.xp6(2),p.Oqu(n.total),p.xp6(2),p.Oqu(n.grade),p.xp6(2),p.Oqu(n.remark),p.xp6(2),p.Oqu(n.signature)}}function Ke(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td",24),p._uU(2,"JUMLA"),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.qZA()),2&e){var n=p.oxw().$implicit;p.xp6(4),p.hij(" ",n.summary[0].total,""),p.xp6(2),p.hij(" ",n.summary[0].grade," ")}}function Ve(e,t){if(1&e&&p._uU(0),2&e){var n=p.oxw().$implicit;p.AsE(" Nafasi katika darasa ",n.summary[0].position," kati ya wanafunzi ",n.summary[0].out_of," ")}}function We(e,t){1&e&&(p.TgZ(0,"span",20),p._uU(1," B: UPIMAJI WA TABIA YA KAZI NA MWENENDO "),p.qZA())}function $e(e,t){1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"th",25),p._uU(2,"SN"),p.qZA(),p.TgZ(3,"th",20),p._uU(4,"MAELEZO"),p.qZA(),p.TgZ(5,"th",20),p._uU(6,"GREDI"),p.qZA(),p.qZA())}function Xe(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td",20),p._uU(2),p.qZA(),p.TgZ(3,"td",20),p._uU(4),p.qZA(),p.TgZ(5,"td",20),p._uU(6),p.qZA(),p.qZA()),2&e){var n=t.$implicit,i=t.rowIndex;p.xp6(2),p.Oqu(i+1),p.xp6(2),p.Oqu(n.description),p.xp6(2),p.Oqu(n.grade)}}function et(e,t){1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td",26),p._uU(2," KIELELEZO - ALAMA ZA MASOMO "),p.qZA(),p.qZA(),p.TgZ(3,"tr"),p.TgZ(4,"td",26),p._uU(5," A: 75 - 100 = VIZURI SANA, B: 65 - 74 = VIZURI, C: 45 - 64 = HAIRIDHISHI, D: 30 - 44 = DHAIFU SANA, F: 0 - 29 = AMEFELI KABISA "),p.qZA(),p.qZA())}function tt(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"th",6),p._UZ(2,"img",7),p.qZA(),p.TgZ(3,"th",8),p.TgZ(4,"span"),p._uU(5),p.ALo(6,"uppercase"),p.qZA(),p._UZ(7,"br"),p.TgZ(8,"span"),p._uU(9),p.ALo(10,"uppercase"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(11,"tr"),p.TgZ(12,"th",9),p._uU(13,"A: RIPOTI YA MAENDELEO YA MWANAFUNZI KATIKA MASOMO"),p.qZA(),p.qZA(),p.TgZ(14,"tr",10),p.TgZ(15,"th",9),p.TgZ(16,"div",11),p.TgZ(17,"div"),p._uU(18),p.ALo(19,"uppercase"),p.qZA(),p.TgZ(20,"div"),p._uU(21),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(22,"tr"),p.TgZ(23,"td",12),p.TgZ(24,"p-table",13),p.YNc(25,ze,15,0,"ng-template",14),p.YNc(26,Ge,15,7,"ng-template",4),p.YNc(27,Ke,7,2,"ng-template",15),p.YNc(28,Ve,1,2,"ng-template",16),p.qZA(),p.qZA(),p.qZA(),p.TgZ(29,"tr"),p.TgZ(30,"td",12),p.TgZ(31,"p-table",13),p.YNc(32,We,2,0,"ng-template",17),p.YNc(33,$e,7,0,"ng-template",14),p.YNc(34,Xe,7,3,"ng-template",4),p.YNc(35,et,6,0,"ng-template",15),p.qZA(),p.qZA(),p.qZA(),p.TgZ(36,"tr"),p.TgZ(37,"td",12),p.TgZ(38,"span"),p._uU(39," Maoni ya mwalimu wa darasa "),p.qZA(),p._UZ(40,"br"),p.TgZ(41,"span"),p._uU(42),p.qZA(),p.TgZ(43,"div",0),p._UZ(44,"img",18),p._UZ(45,"br"),p.TgZ(46,"span"),p._uU(47,"SAHIHI"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(48,"tr"),p.TgZ(49,"td",12),p.TgZ(50,"span"),p._uU(51," Maoni ya mkuu wa shule "),p.qZA(),p._UZ(52,"br"),p.TgZ(53,"span"),p._uU(54),p.qZA(),p.TgZ(55,"div",0),p._UZ(56,"img",19),p._UZ(57,"br"),p.TgZ(58,"span"),p._uU(59,"SAHIHI"),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){var n=t.$implicit;p.xp6(2),p.s9C("src",n.summary[0].logo,p.LSH),p.xp6(3),p.hij(" ",p.lcZ(6,13,n.summary[0].school)," "),p.xp6(4),p.hij(" ",p.lcZ(10,15,n.summary[0].address)," "),p.xp6(9),p.hij(" JINA: ",p.lcZ(19,17,n.student),""),p.xp6(3),p.lnq(" KIDATO: ",n.grade," MUHULA: ",n.summary[0].term," MWAKA: ",n.summary[0].year," "),p.xp6(3),p.Q6J("value",n.result),p.xp6(7),p.Q6J("value",n.performance),p.xp6(11),p.hij(" ",n.remarks.teacher_comment," "),p.xp6(2),p.s9C("src",n.signature.class_teacher,p.LSH),p.xp6(10),p.hij(" ",n.remarks.principal_comment," "),p.xp6(2),p.s9C("src",n.signature.head_teacher,p.LSH)}}var nt,it,st,ot=[{path:"result",component:U,data:{title:"Exam Result",breadcrumb:"Results"}},{path:"registered-student",component:O,data:{title:"Register Student",breadcrumb:"Register Student"}},{path:"publish-result",component:he,data:{title:"Publish Result",breadcrumb:"Publish Result"}},{path:"student-result",component:Ee,data:{title:"Student Result",breadcrumb:"Student Result"}},{path:"student-performance",component:(it=function(){function t(n,i,s,o){e(this,t),this.http=n,this.ls=i,this.dialogService=s,this.messageService=o,this.student_list=[]}return n(t,[{key:"ngOnInit",value:function(){var e,t=this;this.app_user=this.ls.getItem("APP_USER"),this.institution_id=null===(e=this.app_user)||void 0===e?void 0:e.user.institution_id,this.getSchoolCalendar().subscribe(function(e){t.school_calendar=e},function(e){return console.log("oops",e)}),this.getGrade().subscribe(function(e){return t.grades=e},function(e){return console.log("oops",e)})}},{key:"getSchoolCalendar",value:function(){return this.http.get("".concat(u.N.apiURL,"/school_calendar/")+this.institution_id)}},{key:"getGrade",value:function(){return this.http.get("".concat(u.N.apiURL,"/class_teacher_grade"))}},{key:"getScholTerm",value:function(e){return this.http.get("".concat(u.N.apiURL,"/school_term/").concat(e))}},{key:"loadTerms",value:function(e){var t=this;this.getScholTerm(e).subscribe(function(e){t.school_term=e},function(e){return console.log("oops",e)})}},{key:"getStudents",value:function(e,t){return this.http.get("".concat(u.N.apiURL,"/student/").concat(e,"/").concat(t))}},{key:"loadStudents",value:function(){var e=this;null!=this.class_id&&null!=this.school_calendar_id&&this.getStudents(this.class_id,this.school_calendar_id).subscribe(function(t){e.student_list=t.result})}},{key:"openPerformance",value:function(e){var t=this;this.ref=this.dialogService.open(Je,{header:"Update Student Performance",data:{student:e,class_id:this.class_id,term_id:this.term_id},width:"50%",contentStyle:{overflow:"auto"},baseZIndex:1e4}),this.ref.onClose.subscribe(function(e){e&&t.http.post("".concat(u.N.apiURL,"/performance"),e).subscribe(function(e){t.success_message=e.message,t.messageService.add({key:"success",severity:"success",summary:"Success Message",detail:t.success_message})},function(e){return t.error="Error occured, please contact administrator"})})}},{key:"openComment",value:function(e){var t=this;this.ref=this.dialogService.open(Ye,{header:"Update Student Performance",data:{student:e,class_id:this.class_id,term_id:this.term_id},width:"50%",contentStyle:{overflow:"auto"},baseZIndex:1e4}),this.ref.onClose.subscribe(function(e){e&&t.http.post("".concat(u.N.apiURL,"/performance_comment"),e).subscribe(function(e){t.success_message=e.message,t.messageService.add({key:"success",severity:"success",summary:"Success Message",detail:t.success_message})},function(e){return t.error="Error occured, please contact administrator"})})}}]),t}(),it.\u0275fac=function(e){return new(e||it)(p.Y36(a.eN),p.Y36(g.g),p.Y36(ie),p.Y36(c.ez))},it.\u0275cmp=p.Xpm({type:it,selectors:[["app-student-performance"]],features:[p._Bn([c.ez,ie])],decls:25,vars:13,consts:[["position","top-right","key","success"],[1,"p-fluid","p-grid"],[1,"p-field","p-col-12","p-md-3"],[1,"p-float-label"],["inputId","school_calendar","optionLabel","name","optionValue","id",3,"autoDisplayFirst","options","ngModel","ngModelChange","onChange"],["for","class"],["inputId","class_id","optionLabel","name","optionValue","id",3,"autoDisplayFirst","options","ngModel","ngModelChange"],["inputId","term_id","optionLabel","name","optionValue","id",3,"autoDisplayFirst","options","ngModel","ngModelChange"],[1,"p-field","p-col-12","p-md-1"],["label","Go","icon","pi pi-search","styleClass","p-button-lg",3,"click"],["dataKey","id",3,"value","globalFilterFields","rowHover"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"p-m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search student...",3,"input"],[2,"width","4rem"],["pSortableColumn","name"],["field","name"],["pSortableColumn","gender"],["field","gender"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-comments",1,"p-button-rounded","p-button-text",3,"click"]],template:function(e,t){1&e&&(p._UZ(0,"p-toast",0),p.TgZ(1,"p-card"),p.TgZ(2,"div",1),p.TgZ(3,"div",2),p.TgZ(4,"span",3),p.TgZ(5,"p-dropdown",4),p.NdJ("ngModelChange",function(e){return t.school_calendar_id=e})("onChange",function(){return t.loadTerms(t.school_calendar_id)}),p.qZA(),p.TgZ(6,"label",5),p._uU(7,"Select Calendar Year "),p.qZA(),p.qZA(),p.qZA(),p.TgZ(8,"div",2),p.TgZ(9,"span",3),p.TgZ(10,"p-dropdown",6),p.NdJ("ngModelChange",function(e){return t.class_id=e}),p.qZA(),p.TgZ(11,"label",5),p._uU(12,"Select Class"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(13,"div",2),p.TgZ(14,"span",3),p.TgZ(15,"p-dropdown",7),p.NdJ("ngModelChange",function(e){return t.term_id=e}),p.qZA(),p.TgZ(16,"label",5),p._uU(17,"Select Term "),p.qZA(),p.qZA(),p.qZA(),p.TgZ(18,"div",8),p.TgZ(19,"p-button",9),p.NdJ("click",function(){return t.loadStudents()}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(20,"p-table",10,11),p.YNc(22,Pe,6,0,"ng-template",12),p.YNc(23,He,11,0,"ng-template",13),p.YNc(24,Qe,10,3,"ng-template",14),p.qZA(),p.qZA()),2&e&&(p.xp6(5),p.Q6J("autoDisplayFirst",!1)("options",null==t.school_calendar?null:t.school_calendar.results)("ngModel",t.school_calendar_id),p.xp6(5),p.Q6J("autoDisplayFirst",!1)("options",null==t.grades?null:t.grades.class)("ngModel",t.class_id),p.xp6(5),p.Q6J("autoDisplayFirst",!1)("options",null==t.school_term?null:t.school_term.results)("ngModel",t.term_id),p.xp6(5),p.Q6J("value",t.student_list)("globalFilterFields",p.DdM(12,Be))("rowHover",!0))},directives:[m.FN,f.Z,h.Lt,r.JJ,r.On,Z.zx,v.iA,c.jx,b.o,v.lQ,v.fz,Z.Hq],styles:[""]}),it),data:{title:"Student Performance",breadcrumb:"Student Performance"}},{path:"individual-report",component:(nt=function(){function t(n,i,s){e(this,t),this.route=n,this.router=i,this.http=s,this.data=[]}return n(t,[{key:"ngOnInit",value:function(){var e=this.route.snapshot.paramMap.get("class_id"),t=this.route.snapshot.paramMap.get("term_id");this.getData(e,t)}},{key:"getData",value:function(e,t){var n=this;this.http.get("".concat(u.N.apiURL,"/student_final_report/").concat(e,"/").concat(t)).subscribe(function(e){n.data=null==e?void 0:e.data})}},{key:"Print",value:function(){var e=document.getElementById("print").innerHTML,t=window.open();t.document.write("<html>"),t.document.write("<body>"),t.document.write(e),t.document.write("</body></html>"),t.document.close(),t.print()}}]),t}(),nt.\u0275fac=function(e){return new(e||nt)(p.Y36(l.gz),p.Y36(l.F0),p.Y36(a.eN))},nt.\u0275cmp=p.Xpm({type:nt,selectors:[["app-individual-report"]],decls:7,vars:1,consts:[[2,"float","right"],["type","button","pButton","","pRipple","","icon","pi pi-file-excel","pTooltip","Print report","tooltipPosition","bottom","label","Print",1,"p-button-warning","p-mr-2",3,"click"],["id","print"],[3,"value"],["pTemplate","body"],[1,"page-break"],[2,"width","70px"],["width","70","height","80",3,"src"],[1,"title"],["colspan","2",2,"text-align","left"],[2,"border-bottom","2px solid #000"],[1,"p-d-flex","p-jc-between"],["colspan","2"],["responsiveLayout","scroll",1,"result",3,"value"],["pTemplate","header"],["pTemplate","footer"],["pTemplate","summary"],["pTemplate","caption"],["width","60","height","24",3,"src"],["width","71","height","37",3,"src"],[2,"text-align","left"],[2,"width","17rem"],[2,"width","4rem"],[2,"text-align","center"],["colspan","3"],[2,"text-align","left","width","3rem"],["colspan","3",2,"text-align","left"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"button",1),p.NdJ("click",function(){return t.Print()}),p.qZA(),p.qZA(),p.TgZ(2,"div",2),p.TgZ(3,"p-card"),p.TgZ(4,"p-table",3),p.YNc(5,tt,60,19,"ng-template",4),p._UZ(6,"div",5),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.xp6(4),p.Q6J("value",t.data))},directives:[Z.Hq,_.u,f.Z,v.iA,c.jx],pipes:[o.gd],styles:[".title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;text-align:left}.result[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .result[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]     .p-datatable .p-datatable-footer{text-align:left;background-color:#dcf0fc}[_nghost-%COMP%]     .p-datatable thead{background-color:#9ac5ed}@media print{.page-break[_ngcontent-%COMP%]{page-break-after:always}.p-button[_ngcontent-%COMP%]{display:none}}"]}),nt),data:{title:"Student Report",breadcrumb:"Student Report"}}],at=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[l.Bz.forChild(ot)],l.Bz]}),t}(),rt=s(65706),lt=s(59165),ut=s(25627),ct=((st=function t(){e(this,t)}).\u0275fac=function(e){return new(e||st)},st.\u0275mod=p.oAB({type:st}),st.\u0275inj=p.cJS({providers:[{provide:a.TP,useClass:ut.b,multi:!0}],imports:[[rt.m,lt.W,o.ez,at,a.JF,r.u5,r.UX]]}),st)}}])}();